{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Chat app with channel-based conversations; needs mobile-friendly chat layout and controllable auto-scroll without breaking channel behavior.",
  "architectural_notes": [
    "Chat UI changes must preserve existing channels behavior and apply per-channel message lists."
  ],
  "known_issues": [
    "Post-deployment app fails to load due to an error (needs investigation/fix)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-fix-the-post-deployment-runtime-error-that-prevents-the-app-from-loading-stuck-on-the-initializing-screen-so-the-app-reliably-renders-the-lobby-session-ui-and-does-not-fail-during-initialization",
      "title": "Fix the post-deployment runtime error that prevents the app from loading (stuck on the \"Initializing...\" screen) so the app reliably renders the Lobby/Session UI and does not fail during initialization.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-channel-chat-layout-to-be-mobile-friendly-the-chat-view-must-fit-the-phone-screen-height-remain-in-place-no-unintended-page-level-scrolling-and-allow-scrolling-only-vertically-within-the-message-list-area",
      "title": "Update the channel chat layout to be mobile-friendly: the chat view must fit the phone screen height, remain in place (no unintended page-level scrolling), and allow scrolling only vertically within the message list area.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-auto-scroll-to-bottom-behavior-for-channel-messages-with-a-user-controlled-toggle-button-placed-near-the-message-input-when-auto-scroll-is-off-new-incoming-messages-must-not-force-scroll-the-user-to-the-bottom",
      "title": "Implement auto-scroll-to-bottom behavior for channel messages with a user-controlled toggle button placed near the message input. When auto-scroll is OFF, new incoming messages must not force-scroll the user to the bottom.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-chat-layout-and-auto-scroll-changes-apply-consistently-to-every-channel-s-message-list-without-breaking-existing-channel-behavior-including-member-channels",
      "title": "Ensure the chat layout and auto-scroll changes apply consistently to every channel’s message list without breaking existing channel behavior (including member channels).",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Fix chat area layout on phones: fixed height that fits the screen, stretches appropriately, and allows vertical-only scrolling.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Add auto-scroll-to-bottom with a toggle button near the message input to enable/disable auto-scroll so users can read older messages.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Ensure chat layout/scroll changes apply to every channel’s message list without breaking existing channels behavior.",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "RPG Collaboration",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}