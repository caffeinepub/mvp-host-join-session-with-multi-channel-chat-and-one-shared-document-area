{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-15T23:12:24.475Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 5,
    "implemented": 4,
    "items": [
      {
        "id": "REQ-18",
        "summary": "Fix Dark Mode so that toggling the Dark Mode setting reliably updates the app UI immediately (without requiring refresh), persists across reloads, and is applied consistently on all screens (login prompt, lobby, settings, session).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/index.html",
          "frontend/src/App.tsx",
          "frontend/src/hooks/usePreferences.ts"
        ],
        "matchedFiles": [
          "frontend/index.html",
          "frontend/src/App.tsx",
          "frontend/src/hooks/usePreferences.ts"
        ]
      },
      {
        "id": "REQ-19",
        "summary": "Make preference changes in the Pre‑Lobby Settings screen actually apply to the running app (theme, background image, nickname, template) by ensuring there is a single reactive preferences source shared across the app (no stale per-component copies).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/context/PreferencesContext.tsx",
          "frontend/src/hooks/usePreferences.ts",
          "frontend/src/App.tsx",
          "frontend/src/components/settings/PreLobbySettingsView.tsx",
          "frontend/src/pages/LobbyPage.tsx"
        ],
        "matchedFiles": [
          "frontend/src/context/PreferencesContext.tsx",
          "frontend/src/hooks/usePreferences.ts",
          "frontend/src/App.tsx",
          "frontend/src/components/settings/PreLobbySettingsView.tsx"
        ]
      },
      {
        "id": "REQ-20",
        "summary": "Add profile picture support to user profiles: allow the authenticated user to upload, update, and remove a profile picture from the Settings screen, with a preview and validation (image-only, reasonable size constraints).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/useUserProfile.ts",
          "frontend/src/components/profile/ProfilePictureSection.tsx",
          "frontend/src/components/settings/PreLobbySettingsView.tsx",
          "frontend/src/App.tsx"
        ],
        "matchedFiles": [
          "frontend/src/hooks/useUserProfile.ts",
          "frontend/src/components/profile/ProfilePictureSection.tsx",
          "frontend/src/components/settings/PreLobbySettingsView.tsx",
          "frontend/src/App.tsx"
        ]
      },
      {
        "id": "REQ-21",
        "summary": "Extend the backend user profile model and APIs to store and serve an optional profile picture reference for each principal, using the existing backend storage approach (single-actor, existing blob storage mixin). Add APIs needed by the frontend to set/get the caller’s profile picture and to fetch other users’ profile picture metadata needed for display.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-22",
        "summary": "Display user profile pictures in-session: show avatars alongside chat messages (and at minimum for the message author) with sensible fallbacks (e.g., initials placeholder) when a user has no profile picture or it cannot be loaded.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/profile/Avatar.tsx",
          "frontend/src/hooks/useUserProfile.ts",
          "frontend/src/pages/SessionPage.tsx",
          "frontend/src/components/chat/ChannelChatView.tsx",
          "frontend/src/components/chat/ChatMessageItem.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/profile/Avatar.tsx",
          "frontend/src/hooks/useUserProfile.ts",
          "frontend/src/pages/SessionPage.tsx",
          "frontend/src/components/chat/ChannelChatView.tsx",
          "frontend/src/components/chat/ChatMessageItem.tsx"
        ]
      }
    ]
  },
  "changedFiles": [
    "backend/main.mo",
    "backend/migration.mo",
    "build-request.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/index.html",
    "frontend/src/App.tsx",
    "frontend/src/backend.d.ts",
    "frontend/src/backend.ts",
    "frontend/src/components/chat/ChannelChatView.tsx",
    "frontend/src/components/chat/ChatMessageItem.tsx",
    "frontend/src/components/profile/Avatar.tsx",
    "frontend/src/components/profile/ProfilePictureSection.tsx",
    "frontend/src/components/settings/PreLobbySettingsView.tsx",
    "frontend/src/context/PreferencesContext.tsx",
    "frontend/src/declarations/backend.did.d.ts",
    "frontend/src/declarations/backend.did.js",
    "frontend/src/hooks/usePreferences.ts",
    "frontend/src/hooks/useUserProfile.ts",
    "frontend/src/pages/SessionPage.tsx",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}